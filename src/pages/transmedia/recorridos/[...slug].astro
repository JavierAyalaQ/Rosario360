---
import LayoutTransmedia from "@layouts/LayoutTransmedia.astro";

import recorridos from "@data/recorridos.json";
import Rutas from "@components/sections/Rutas.tsx";
import RecorridoImagenes from "@components/sections/RecorridoImagenes.tsx";


export function getStaticPaths() {
    const places = recorridos;
    return recorridos.map(({slug}) => ({
        params: { slug },
        props: { places }
    }));
}

const { slug } = Astro.params;


// NavegaciÃ³n
const place = recorridos.find(p =>
    p.slug === slug
);

if (!place) {
    throw new Error(`Lugar con Slug: ${slug} no encontrado`);
}
const { id, name, description, image } = place;


import bgIntro from "@vid/bg-intro.mp4";




import cultura from "@data/cultura.json";

const frames = cultura.map(({ href }) => href);



const routes = [
  { label: "Ruta 1", src: frames },
  { label: "Ruta 2", src: frames },
  { label: "Ruta 3", src: frames },
  { label: "Ruta 4", src: frames },
  { label: "Ruta 4", src: frames },
];
---

<LayoutTransmedia title={`Recorrido: ${name}`}>
    <slot slot="main" >
        <!-- <Recorrido client:visible videoSrc={bgIntro} videoOptions={videoOptions} frameDelay={250} />
 -->
       <RecorridoImagenes client:visible frames={frames} frameRate={30} frameDelay={250} />

       <!-- <Rutas client:visible frames={frames} routes={routes} frameRate={30} frameDelay={500} /> -->
    </slot>
</LayoutTransmedia>